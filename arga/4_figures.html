<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Guide: AI for Scientific Visuals</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Chosen Palette: Warm Neutrals -->
    <!-- Application Structure Plan: A tab-based navigation segregates the major workflows (Forward, Reverse, Modify, etc.) into focused sections. This prevents overwhelm and guides the user through a logical progression. Within tabs, accordion elements for each experiment allow users to focus on one task at a time. The design prioritizes clear instructions and actionable prompts, with integrated copy buttons and links to class resources, making it a self-contained and efficient tool for the in-class exercise. -->
    <!-- Visualization & Content Choices: 
        - Main Navigation: Worksheet Sections -> Tabbed UI. Goal -> Organize & Guide. Interaction -> Click to switch content. Justification -> Best for segmenting a multi-part exercise.
        - Experiments: Individual tasks -> Accordion UI. Goal -> Focus & Compare. Interaction -> Click to expand/collapse. Justification -> Keeps the UI clean and allows students to zero in on a single experimental prompt and analysis.
        - Prompts/Code: Example prompts -> Code-style blocks with copy buttons. Goal -> Action. Interaction -> Click to copy. Justification -> Provides direct utility and reduces friction for students.
        - Links: External resources (Google Drive/Slides) -> Styled anchor tags. Goal -> Action. Interaction -> Click to open new tab. Justification -> Integrates external class resources directly into the workflow.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #FDFBF8;
            color: #4A4A4A;
        }
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap');
        .tab-content { display: none; }
        .tab-content.active { display: block; }
        .tab-btn.active { 
            background-color: #A77E58;
            color: #FFFFFF;
        }
        .tab-btn {
            background-color: #EFEAE4;
            color: #A77E58;
        }
        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.4s ease-out;
        }
        .accordion-open .accordion-content {
            max-height: 1000px; /* Adjusted for potentially long content */
        }
        .rotate-180 { transform: rotate(180deg); }
        .transition-transform { transition: transform 0.3s ease-in-out; }
        .copy-feedback { transition: opacity 0.5s ease-in-out; }
    </style>
</head>
<body class="antialiased">

    <div class="container mx-auto px-4 sm:px-6 py-12 max-w-5xl">
        
        <header class="text-center mb-10">
            <h1 class="text-3xl sm:text-4xl font-bold text-[#A77E58]">From Sketch to Publication</h1>
            <p class="mt-2 text-lg text-gray-600">A Guide to AI-Assisted Scientific Visuals</p>
        </header>

        <!-- Intro Section -->
        <section id="getting-started" class="mb-10 bg-white p-6 sm:p-8 rounded-xl shadow-lg border border-gray-200">
            <h2 class="text-2xl font-bold mb-4 text-[#A77E58]">Getting Started</h2>
            <div class="space-y-4 text-sm">
                <p><strong class="font-semibold">Workflow Suggestion:</strong> To experience the full lifecycle of creating a visual, we recommend taking one primary figure (e.g., a data plot) through all the relevant stages: from generation ("Idea to Code"), to refinement ("Modify & Refine"), to final captioning. However, feel free to create new or different types of visuals (like a diagram) for any task where it makes more sense for your research.</p>
                <p><strong class="font-semibold">Your Tools:</strong> A dataset, whiteboard/paper for sketching, example visuals, and your research draft.</p>
                <p><strong class="font-semibold">Documentation:</strong> Create and keep a Google Doc open in the class vault to record your prompts, code, and analysis. <a href="https://drive.google.com/drive/folders/1NXTLrIFIhPYFj4tsP1MM2IP7b6mW1eRt?usp=drive_link" target="_blank" rel="noopener noreferrer" class="text-[#A77E58] underline">Open Class Vault Folder</a>.</p>
            </div>
        </section>

        <!-- Main Tab Navigation -->
        <div class="mb-8 sticky top-0 z-10 bg-[#FDFBF8] py-4">
            <div class="flex flex-wrap justify-center rounded-lg p-1 bg-[#EFEAE4] shadow-md">
                <button class="tab-btn flex-grow text-sm sm:text-base font-medium py-2 px-4 rounded-md active" data-tab="forward">Idea to Code</button>
                <button class="tab-btn flex-grow text-sm sm:text-base font-medium py-2 px-4 rounded-md" data-tab="reverse">Image to Code</button>
                <button class="tab-btn flex-grow text-sm sm:text-base font-medium py-2 px-4 rounded-md" data-tab="modify">Modify & Refine</button>
                <button class="tab-btn flex-grow text-sm sm:text-base font-medium py-2 px-4 rounded-md" data-tab="caption">Caption & Title</button>
                <button class="tab-btn flex-grow text-sm sm:text-base font-medium py-2 px-4 rounded-md" data-tab="reflection">Reflection</button>
            </div>
        </div>

        <main>
            <!-- Forward Pass Content -->
            <div id="forward" class="tab-content active">
                <div class="text-center mb-8">
                    <h2 class="text-2xl font-bold">The Forward Pass: From Idea to Python Code</h2>
                    <p class="max-w-3xl mx-auto mt-2">Describe a desired visual and ask the AI to generate the corresponding Python code. Please choose at least one experiment to focus on. If you have time, feel free to try others.</p>
                </div>
                <div class="space-y-4" id="forward-experiments"></div>
            </div>

            <!-- Reverse Pass Content -->
            <div id="reverse" class="tab-content">
                 <div class="text-center mb-8">
                    <h2 class="text-2xl font-bold">The Reverse Pass: From Image to Code</h2>
                    <p class="max-w-3xl mx-auto mt-2">Use multimodal LLMs to interpret a visual and generate the code to replicate it. Explore the tasks below to practice reverse-engineering visuals.</p>
                </div>
                <div class="space-y-4" id="reverse-experiments"></div>
            </div>

            <!-- Modification Content -->
            <div id="modify" class="tab-content">
                <div class="text-center mb-8">
                    <h2 class="text-2xl font-bold">The Art of Modification: Iterative Refinement</h2>
                    <p class="max-w-3xl mx-auto mt-2">Use the AI as a coding assistant to modify and build upon existing figures. Explore the different methods below for refining your visuals.</p>
                </div>
                <div class="space-y-4" id="modify-experiments"></div>
            </div>

            <!-- Captioning Content -->
            <div id="caption" class="tab-content">
                <div class="text-center mb-8">
                    <h2 class="text-2xl font-bold">The Narrative: Generating Captions and Titles</h2>
                    <p class="max-w-3xl mx-auto mt-2">A visual is only as good as its caption. Explore the different methods below for generating accurate and descriptive captions.</p>
                </div>
                <div class="space-y-4" id="caption-experiments"></div>
            </div>

            <!-- Reflection Content -->
            <div id="reflection" class="tab-content">
                <div class="text-center mb-8">
                    <h2 class="text-2xl font-bold">Reflection and Final Analysis</h2>
                    <p class="max-w-3xl mx-auto mt-2">Review your notes, submit your best figure, and consolidate your learnings.</p>
                </div>
                <div class="bg-white p-6 sm:p-8 rounded-xl shadow-lg border border-gray-200 space-y-8">
                    <div>
                        <h3 class="text-xl font-bold mb-4">Final Submission</h3>
                        <div class="border rounded-lg p-4 bg-[#FDFBF8]">
                            <p class="text-sm">As the final step, please add your best figure from this exercise to our shared class presentation. Create a new slide, add your figure, and include your name.</p>
                            <a href="https://docs.google.com/presentation/d/1kwR2EtcFPE5vpeDksxm1z981WLMgvv1T8ZbQ7mMKlO4/edit?usp=sharing" target="_blank" rel="noopener noreferrer" class="inline-block mt-4 bg-[#A77E58] text-white font-bold py-2 px-4 rounded-lg hover:bg-opacity-90 text-sm">
                                Open Google Slides Presentation
                            </a>
                        </div>
                    </div>

                    <div>
                        <div class="flex justify-between items-center mb-4">
                            <h3 class="text-xl font-bold">Final Questions for Your Notes</h3>
                            <button id="copyAllBtn" class="bg-[#A77E58] text-white font-bold py-2 px-4 rounded-lg hover:bg-opacity-90 text-sm">Copy All Questions</button>
                        </div>
                        <ol id="reflectionList" class="list-decimal list-inside space-y-4"></ol>
                    </div>
                </div>
            </div>
        </main>
    </div>

<script>
document.addEventListener('DOMContentLoaded', () => {
    // Data for experiments
    const forwardExperiments = [
        {
            title: "Experiment A: The Data Plot",
            strategy: "Provide a natural language description of your data and the plot you want.",
            prompt: `"I have a CSV file named 'data.csv' with columns 'X_value', 'Y_value', and 'Category'. Generate Python code using Matplotlib and Seaborn to create a scatter plot of 'Y_value' vs. 'X_value', with the points colored by 'Category'."`,
            analysis: "How well did the AI generate functional code? Did it make reasonable assumptions about styling?"
        },
        {
            title: "Experiment B: The Conceptual or Process Diagram",
            strategy: "Describe the steps of a pipeline or a concept from your research and ask the AI to generate Python code to represent it visually.",
            prompt: `"Generate Python code using Matplotlib to create a simple diagram illustrating my research concept. The diagram should show a box for 'Cause A' pointing to a box for 'Effect B', with a third box 'Moderator C' having an arrow pointing to the arrow between A and B. Use simple labeled boxes and arrows."`,
            analysis: "How effectively did the AI translate abstract concepts or process steps into a visual structure using a standard plotting library?"
        },
        {
            title: "Experiment C: The Publication-Ready Table",
            strategy: "Provide raw data and ask the AI to generate Python code to render it as a clean, styled table-figure.",
            prompt: `"Here is some data: Model A, 92.5%, 88.1%; Model B, 94.2%, 90.3%. Generate Python code using Matplotlib to create a simple, clean table figure presenting this data. The columns should be 'Model', 'Accuracy', and 'F1-Score'. Hide the axes and save it as a PNG."`,
            analysis: "Is this a viable alternative to creating tables in LaTeX or Word?"
        },
        {
            title: "Experiment D: The Creative Consultant",
            strategy: "Use the AI for ideation, not just execution, to suggest novel ways to communicate your concepts.",
            prompt: `"I need to show the relationship between three continuous variables (X, Y, Z) and a categorical variable (Group). Suggest three different Python-based visualizations to do this, such as a 3D scatter plot or a bubble chart with size representing the Z variable. Briefly explain the pros and cons of each for a research paper."`,
            analysis: "Did the AI suggest visualization types you hadn't considered?"
        }
    ];

    const reverseExperiments = [
        {
            title: "Task A: Create with Inspiration",
            strategy: "Upload an image of a published figure you like and ask the AI to create a template you can adapt for your own work.",
            prompt: `"Here is a figure from a research paper that I liked. I want to create a similar figure with my own data, but change the color scheme to blues and remove the top x-axis. Generate Python code using Matplotlib that replicates the general style of this plot. Use placeholder data for now."`,
            analysis: "How accurately did the AI capture the aesthetic of the original figure while incorporating your requested modifications?"
        },
        {
            title: "Task B: From Whiteboard Sketch to Code",
            strategy: "Draw a rough sketch of a figure, take a clear photo, and ask the AI to turn it into code. Pro-Tip: Convert HEIC photos (from iPhones) to PNG or JPG first, as they are more compatible with LLMs.",
            prompt: `"I have uploaded a photo of a hand-drawn sketch of a multi-panel figure. Please interpret this sketch and generate Python code with Matplotlib to create it. The top panel should be a line plot with two lines, and the bottom panel should be a histogram. Use placeholder data but replicate the layout, labels, and general intent of my drawing."`,
            analysis: "How well did the AI translate your hand-drawn concepts into a structured plot? What was lost or misinterpreted in translation?"
        }
    ];
    
    const modifyExperiments = [
        {
            title: "Task A: Basic Edits",
            strategy: "Provide a working Python script and ask for specific stylistic changes.",
            prompt: `"Here is a Python script for a plot. Modify it to: 1. Change the color palette to 'seaborn-muted'. 2. Add a legend to the upper-left corner. 3. Increase the font size of the axis labels to 14."`,
            analysis: "Is it faster to ask the AI for these small changes or to look up the documentation yourself?"
        },
        {
            title: "Task B: Complex Composition",
            strategy: "Provide the AI with the components you want to combine (e.g., Python scripts, static images) and ask it to assemble them into a single, multi-panel figure.",
            prompt: `"I have a Python script that creates a scatter plot. I also have a separate PNG image of a flowchart. Please generate a new Python script that creates a two-panel figure. The scatter plot from my script should be on the left (panel A), and you should load and display the flowchart PNG on the right (panel B). Label them accordingly."`,
            analysis: "How well did the AI handle complex layout and composition tasks involving different types of visual assets?"
        }
    ];

    const captionExperiments = [
        {
            title: "Task A: Captioning from Code",
            strategy: "Provide the AI with the final Python code for your visual and the key takeaway. Pro-Tip: For a clean comparison with the next task, start a new temporary chat session for this.",
            prompt: `"I've attached the Python code that generates a figure. The figure shows a scatter plot where data points clearly cluster into two groups. The most important finding is that Group A has a much steeper slope than Group B. Please write a formal academic figure caption that first describes what the plot shows and then states this key finding."`,
            analysis: "How well did the generated caption balance description (what the visual *is*) with interpretation (what it *means*)?"
        },
        {
            title: "Task B: Captioning from Vision",
            strategy: "Provide the AI with a screenshot of your final figure to test its vision capabilities. Pro-Tip: For a clean comparison, start a new temporary chat session for this.",
            prompt: `"I have uploaded a screenshot of a figure. Please analyze the image and write a formal academic figure caption for it. The caption should first describe what the plot shows, and then propose a potential key finding or interpretation based on the visual evidence."`,
            analysis: "Compare this caption to the one generated from code. Did the AI accurately 'see' and describe the figure? Did it correctly infer the main point without being told?"
        }
    ];

    const reflectionQuestions = [
        "Sketch vs. Polished: How did the AI's interpretation of your hand-drawn sketch compare to its interpretation of a polished, published figure?",
        "AI as Assistant: For modifying code, what is the sweet spot for an AI request? At what point of complexity does it become easier to write the code yourself?",
        "Context for Captions: Compare the captions generated from code vs. from an image. Which was more accurate? Which was a more efficient workflow for you?",
        "Risks and Pitfalls: What is the biggest risk of using AI for generating visuals? (e.g., subtle coding errors that misrepresent data, lack of reproducibility).",
        "Workflow Integration: Which of these techniques seems most promising for accelerating your personal research workflow?",
        "AI as Consultant: Did using the AI for brainstorming suggest visualization types you hadn't considered? How valuable is this ideation step?"
    ];

    // Helper to create copyable prompt blocks
    function createPromptBlock(promptText) {
        return `
            <div class="relative bg-[#FDFBF8] p-4 rounded-md border mt-2">
                <pre class="text-sm font-mono whitespace-pre-wrap">${promptText}</pre>
                <button class="copy-btn absolute top-2 right-2 p-1 text-gray-400 hover:text-gray-700" title="Copy to clipboard">
                    <span class="copy-icon">ðŸ“‹</span>
                    <span class="copy-feedback opacity-0 absolute -top-6 right-0 bg-green-500 text-white text-xs px-2 py-1 rounded">Copied!</span>
                </button>
            </div>
        `;
    }

    // Helper to create an accordion item
    function createAccordionItem(exp) {
        let contentHtml = `<p class="text-sm font-medium mb-2">Strategy:</p><p class="text-sm mb-4">${exp.strategy}</p>`;
        contentHtml += `<p class="text-sm font-medium mb-2">Prompt Example:</p>${createPromptBlock(exp.prompt)}`;
        contentHtml += `<hr class="my-4"><p class="text-sm font-medium mb-2">Analysis Questions:</p><p class="text-sm italic">${exp.analysis}</p>`;

        return `
            <div class="accordion-item bg-white rounded-lg shadow-sm border border-gray-200">
                <button class="accordion-header w-full flex justify-between items-center text-left p-4 font-medium">
                    <span>${exp.title}</span>
                    <span class="transition-transform duration-300">â–¼</span>
                </button>
                <div class="accordion-content">
                    <div class="p-4 border-t border-gray-200">
                        ${contentHtml}
                    </div>
                </div>
            </div>
        `;
    }

    // Populate dynamic content
    document.getElementById('forward-experiments').innerHTML = forwardExperiments.map(createAccordionItem).join('');
    document.getElementById('reverse-experiments').innerHTML = reverseExperiments.map(createAccordionItem).join('');
    document.getElementById('modify-experiments').innerHTML = modifyExperiments.map(createAccordionItem).join('');
    document.getElementById('caption-experiments').innerHTML = captionExperiments.map(createAccordionItem).join('');
    document.getElementById('reflectionList').innerHTML = reflectionQuestions.map(q => `<li>${q}</li>`).join('');

    // Event Listeners
    const tabBtns = document.querySelectorAll('.tab-btn');
    const tabContents = document.querySelectorAll('.tab-content');

    tabBtns.forEach(btn => {
        btn.addEventListener('click', () => {
            tabBtns.forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            const tabId = btn.dataset.tab;
            tabContents.forEach(content => {
                content.classList.toggle('active', content.id === tabId);
            });
        });
    });

    document.querySelectorAll('.accordion-header').forEach(button => {
        button.addEventListener('click', () => {
            const item = button.parentElement;
            item.classList.toggle('accordion-open');
            button.querySelector('span:last-child').classList.toggle('rotate-180');
        });
    });

    document.addEventListener('click', function(e) {
        const copyBtn = e.target.closest('.copy-btn');
        if (copyBtn) {
            const pre = copyBtn.querySelector('pre') || copyBtn.closest('.relative').querySelector('pre');
            const textToCopy = pre.innerText || pre.textContent;
            navigator.clipboard.writeText(textToCopy).then(() => {
                const feedback = copyBtn.querySelector('.copy-feedback');
                feedback.style.opacity = '1';
                setTimeout(() => { feedback.style.opacity = '0'; }, 1500);
            }).catch(err => console.error('Failed to copy text: ', err));
        }
    });

    document.getElementById('copyAllBtn').addEventListener('click', () => {
        const textToCopy = reflectionQuestions.map((q, i) => `${i + 1}. ${q}`).join('\n\n');
        navigator.clipboard.writeText(textToCopy).then(() => {
            const btn = document.getElementById('copyAllBtn');
            const originalText = btn.textContent;
            btn.textContent = 'Copied!';
            btn.classList.add('bg-green-500');
            setTimeout(() => {
                btn.textContent = originalText;
                btn.classList.remove('bg-green-500');
            }, 2000);
        }).catch(err => console.error('Failed to copy questions: ', err));
    });

});
</script>

</body>
</html>

